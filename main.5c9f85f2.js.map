{"version":3,"sources":["scripts/main.js"],"names":["body","document","tBody","querySelector","tData","querySelectorAll","colIndex","sortTable","columnIdx","tHeaderName","isSorted","sortedData","sort","p","n","prev","textContent","next","localeCompare","parseFloat","split","join","reverse","append","selectedRow","target","currentRow","length","className","replace","parentElement","addEventListener","e","tagName","cellIndex","createForm","form","createElement","labels","text","label","inputName","setAttribute","children","inputPosition","selectLocation","forEach","office","option","firstElementChild","inputAge","inputSalary","submitButton","ariseMsg","type","title","description","posTop","posRight","msg","div","h2","setTimeout","remove","submitForm","preventDefault","formData","FormData","newEmpEntries","Object","fromEntries","entries","values","name","position","age","salary","Intl","NumberFormat","format","tr","value","td","editingCellsByDoubleClick","tdInput","focus","ent","code"],"mappings":"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","file":"main.5c9f85f2.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\n// write code here\r\n\r\nconst body = document.body;\r\nconst tBody = document.querySelector('tbody');\r\nconst tData = [...tBody.querySelectorAll('tr')];\r\nlet colIndex = -1;\r\n\r\nconst sortTable = function(columnIdx, tHeaderName, isSorted) {\r\n  const sortedData = tData.sort((p, n) => {\r\n    let prev = [...p.querySelectorAll('td')][columnIdx].textContent;\r\n    let next = [...n.querySelectorAll('td')][columnIdx].textContent;\r\n\r\n    switch (tHeaderName) {\r\n      case 'Name':\r\n      case 'Position':\r\n      case 'Office':\r\n      case 'Age':\r\n        return prev.localeCompare(next);\r\n      case 'Salary':\r\n        prev = prev.split('$').join('').split(',').join('');\r\n        next = next.split('$').join('').split(',').join('');\r\n\r\n        return parseFloat(prev) - parseFloat(next);\r\n    }\r\n  });\r\n\r\n  if (isSorted) {\r\n    tData.reverse();\r\n  }\r\n\r\n  tBody.append(...sortedData);\r\n};\r\n\r\nconst selectedRow = function(target) {\r\n  const currentRow = document.querySelectorAll('.active');\r\n\r\n  if (currentRow.length > 0) {\r\n    currentRow[0].className = currentRow[0].className.replace('active', '');\r\n  }\r\n  target.parentElement.className = 'active';\r\n};\r\n\r\nbody.addEventListener('click', (e) => {\r\n  const target = e.target;\r\n\r\n  if (target.tagName === 'BODY') {\r\n    return;\r\n  }\r\n\r\n  if (target.tagName === 'TH') {\r\n    const columnIdx = target.cellIndex;\r\n    const tHeaderName = target.textContent;\r\n\r\n    sortTable(columnIdx, tHeaderName, colIndex === columnIdx);\r\n    colIndex = (colIndex === columnIdx) ? -1 : columnIdx;\r\n  }\r\n\r\n  if (target.tagName === 'TD') {\r\n    selectedRow(target);\r\n  }\r\n});\r\n\r\nconst createForm = function() {\r\n  const form = document.createElement('form');\r\n\r\n  form.className = 'new-employee-form';\r\n  body.append(form);\r\n\r\n  const labels = ['Name', 'Position', 'Office', 'Age', 'Salary'];\r\n\r\n  for (const text of labels) {\r\n    const label = document.createElement('label');\r\n\r\n    label.textContent = text + ':';\r\n    form.append(label);\r\n  };\r\n\r\n  const inputName = document.createElement('input');\r\n\r\n  inputName.setAttribute('name', 'name');\r\n  inputName.setAttribute('type', 'text');\r\n  inputName.setAttribute('data-qa', 'name');\r\n  form.children[0].append(inputName);\r\n\r\n  const inputPosition = document.createElement('input');\r\n\r\n  inputPosition.setAttribute('name', 'position');\r\n  inputPosition.setAttribute('type', 'text');\r\n  inputPosition.setAttribute('data-qa', 'position');\r\n  form.children[1].append(inputPosition);\r\n\r\n  const selectLocation = document.createElement('select');\r\n\r\n  selectLocation.setAttribute('name', 'office');\r\n  selectLocation.setAttribute('data-qa', 'office');\r\n  form.children[2].append(selectLocation);\r\n\r\n  const offices = [`Tokyo`, `Singapore`, `London`,\r\n    `New York`, `Edinburgh`, `San Francisco`];\r\n\r\n  offices.forEach(office => {\r\n    const option = document.createElement('option');\r\n\r\n    option.textContent = office;\r\n    form.children[2].firstElementChild.append(option);\r\n  });\r\n\r\n  const inputAge = document.createElement('input');\r\n\r\n  inputAge.setAttribute('name', 'age');\r\n  inputAge.setAttribute('type', 'number');\r\n  inputAge.setAttribute('data-qa', 'age');\r\n  form.children[3].append(inputAge);\r\n\r\n  const inputSalary = document.createElement('input');\r\n\r\n  inputSalary.setAttribute('name', 'salary');\r\n  inputSalary.setAttribute('type', 'number');\r\n  inputSalary.setAttribute('data-qa', 'salary');\r\n  form.children[4].append(inputSalary);\r\n\r\n  const submitButton = document.createElement('button');\r\n\r\n  submitButton.setAttribute('type', 'submit');\r\n  submitButton.textContent = 'Save to table';\r\n  form.append(submitButton);\r\n};\r\n\r\nconst ariseMsg = (type, title, description, posTop = 10, posRight = 10) => {\r\n  const msg = document.createElement('msg');\r\n  const div = document.createElement('div');\r\n\r\n  div.className = `notification ${type}`;\r\n  div.setAttribute('data-qa', 'notification');\r\n  div.setAttribute('style', `top: ${posTop}px; right: ${posRight}px;`);\r\n  msg.append(div);\r\n  body.append(msg);\r\n\r\n  const h2 = document.createElement('h2');\r\n\r\n  h2.className = 'title';\r\n  h2.textContent = title;\r\n  div.append(h2);\r\n\r\n  const p = document.createElement('p');\r\n\r\n  p.textContent = description;\r\n  div.append(p);\r\n\r\n  setTimeout(function rem() {\r\n    msg.remove();\r\n  }, 5000);\r\n};\r\n\r\nconst submitForm = function() {\r\n  const form = document.querySelector('form');\r\n\r\n  form.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData(form);\r\n    const newEmpEntries = Object.fromEntries(formData.entries());\r\n    const values = Object.values(newEmpEntries);\r\n\r\n    const { name, position, age, salary } = newEmpEntries;\r\n\r\n    function convertSalary() {\r\n      const nfObject = new Intl.NumberFormat(('en-US'));\r\n      const convdSalary = '$' + nfObject.format(salary);\r\n\r\n      return convdSalary;\r\n    };\r\n\r\n    values[4] = convertSalary();\r\n\r\n    if (name.length < 4 || (age < 18 || age > 90) || position.length < 4) {\r\n      ariseMsg('error', 'ERROR!',\r\n        'The name should contain at least 4 letters.\\n ', 10, 10);\r\n    } else {\r\n      const tr = document.createElement('tr');\r\n\r\n      for (const value of values) {\r\n        const td = document.createElement('td');\r\n\r\n        td.textContent = value;\r\n        tr.append(td);\r\n      }\r\n      tBody.append(tr);\r\n\r\n      ariseMsg('success', 'SUCCESS!',\r\n        'The employee added succesfully.\\n ', 10, 10);\r\n\r\n      document.querySelector('[name=\"name\"]').value = '';\r\n      document.querySelector('[name=\"position\"]').value = '';\r\n      document.querySelector('[name=\"age\"]').value = '';\r\n      document.querySelector('[name=\"salary\"]').value = '';\r\n    }\r\n  });\r\n};\r\n\r\nconst editingCellsByDoubleClick = function () {\r\n  tBody.addEventListener('dblclick', (e) => {\r\n    const target = e.target;\r\n\r\n    if (target.tagName !== 'TD') {\r\n      return;\r\n    }\r\n\r\n    const tdInput = document.createElement('input');\r\n\r\n    tdInput.setAttribute('value', target.textContent);\r\n    tdInput.setAttribute('type', 'text');\r\n    target.textContent = '';\r\n    target.append(tdInput);\r\n    tdInput.focus();\r\n\r\n    tdInput.addEventListener('blur', () => {\r\n      target.textContent = tdInput.value;\r\n    });\r\n\r\n    tdInput.addEventListener('keydown', (ent) => {\r\n      if (ent.code === 'Enter') {\r\n        target.textContent = tdInput.value;\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\ncreateForm();\r\nsubmitForm();\r\neditingCellsByDoubleClick();\r\n"]}